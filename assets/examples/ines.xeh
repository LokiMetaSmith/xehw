[ "NES" 0x1a ] >bitstr magic var hdr
u8 var prg-len
u8 var chr-len
u8 var flags6
u8 var flags7
u8 var flags8
u8 var flags9
u8 var flags10
5 bytes var reserved2

flags6 0b100 band zero? if
    0
else
    512
then
bytes var tainer-data

offset var prg-offset
prg-len 16384 * bytes var prg-data
offset var chr-offset
chr-len 8192 * bytes var chr-data
